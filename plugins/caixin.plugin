#!name=财新&财新周刊
#!icon=https://file.caixin.com/webchannel/all/img/logo.png

[Script]
http-response ^https:\/\/gateway\.caixin\.com\/api\/app\-api\/specialModuleType\/getAll script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/specialModuleType.js, requires-body=true, tag=财新周刊-specialModuleType
# http-response ^https:\/\/mappsv\d{1}\.caixin\.com\/index\_page\_v\d{1}\/operate\_index\_page\_\d{1}.json script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/operate_index_page.js, requires-body=true,  tag=财新周刊-首页
http-response ^https:\/\/gateway\.caixin\.com\/api\/app\-api\/caixinapp\/appinfo script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/appinfo.js, requires-body=true,  tag=财新周刊-app配置
http-response ^https:\/\/mappsv\d{1}\.caixin\.com\/channelv\d{1}\/article\_ad\_ios\_info\.json script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/article_ad_ios_info.js, requires-body=true,  tag=财新周刊-广告
# http-response ^https:\/\/gateway\.caixin\.com\/api\/push\/pushTag\/getUserTags script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/getUserTags.js, requires-body=true,  tag=财新周刊-用户标签
# http-response ^https:\/\/gateway\.caixin\.com\/api\/usertag\/api\/getUserTag\? script-path=https://raw.githubusercontent.com/sorachandesu/s/t/scripts/caixin/getUserTag.js, requires-body=true,  tag=财新周刊-用户标签2

# 解锁财新文章阅读与音频限制
http-request ^https?:\/\/gateway\.caixin\.com\/api\/app\-api\/auth\/(validate|validateAudioAuth) script-path=https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/CaiXin/Script/CaiXin.js, timeout=10, tag=财新会员
# 财新周刊会员
http-response ^https?:\/\/ipadcms\.caixin\.com\/(api|tmp|power)\/(articles?|myfree(v\d+)?) script-path=https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/CaiXinWeekly/Script/CaiXinWeekly.js, requires-body=true, timeout=10, tag=财新周刊


[URL Rewrite]
^https:\/\/gateway\.caixin\.com\/api\/stat\/v\d{1}\/client\_data\/from\_app - reject
^https:\/\/gateway\.caixin\.com\/api\/app\-api\/cxAdInfo\/selectIndexAdInfo - reject

[Rule]
DOMAIN-SUFFIX,apollo.caixin.com, reject
DOMAIN-SUFFIX,volceapplog.com, reject
DOMAIN-SUFFIX,klink.volceapplog, reject
DOMAIN-SUFFIX,toblog.volceapplog.com, reject

[MITM]
hostname=gateway.caixin.com,mappsv*.caixin.com,ipadcms.caixin.com
